app.controller("ModalLoginCtrl",["$scope","$modalInstance","auth",function(e,n,t){e.user={username:"",password:""};e.ent=function(){if(e.user.username.length>0&&e.user.password.length>0){e.ok();return}if(e.user.username.length>0){document.getElementById("pass").focus();document.getElementById("redAlert").innerHTML="Въведи парола!";return}if(e.user.password.length>0){if(document.getElementById("username")){document.getElementById("username").focus()}document.getElementById("redAlert").innerHTML="Въведи име!"}};e.clear=function(){document.getElementById("redAlert").innerHTML=""};e.forgottenPass=function(){n.close("s")};e.ok=function(){if(e.user){if(!e.user.username){document.getElementById("redAlert").innerHTML="Въведи име!";document.getElementById("username").focus();return}if(!e.user.password){document.getElementById("redAlert").innerHTML="Въведи парола!";document.getElementById("pass").focus();return}t.login(e.user).then(function(t){if(t.data.success){n.close(t.data.user)}else{e.user.username="";e.user.password="";document.getElementById("redAlert").innerHTML="Грешна парола или име!";document.getElementById("username").focus()}},function(e){console.log("something wrong: "+e)})}};e.cancel=function(){n.dismiss("cancel")};e.signUp=function(){n.close("signUp")}}]);