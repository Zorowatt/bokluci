app.controller("LoginCtrl",["$scope","identity","auth","$modal","$location",function(n,e,o,t,r){n.identity=e;n.user={};n.logout=function(){o.logout().then(function(o){if(o.data.success){e.currentUser=undefined;n.user.username="";n.user.password="";r.path("/")}},function(n){console.log("something wrong happened during logging out on the server : "+n)})};n.oldUser=function(n){var o=t.open({templateUrl:"/p/partials/modalLogin",controller:"ModalLoginCtrl",size:n});o.result.then(function(n){if(n){e.currentUser=n}},function(){})};n.newUser=function(n){var e=t.open({templateUrl:"/p/partials/modalSignup",controller:"ModalSignupCtrl",size:n});e.result.then(function(n){if(n.success){alert(n.reason)}r.path("/")})}}]);