app.controller("LoginCtrl",["$scope","identity","auth","$modal","$location",function(n,t,e,o,r){n.identity=t;n.user={};n.logout=function(){e.logout().then(function(e){if(e.data.success){t.currentUser=undefined;n.user.username="";n.user.password="";r.path("/")}},function(n){console.log("something wrong happened during logging out on the server : "+n)})};n.SignIn=function(n){$("#si").blur();var e=o.open({templateUrl:"/p/partials/modalLogin",controller:"ModalLoginCtrl",size:n});e.result.then(function(n){if(n=="signUp"){var e=o.open({templateUrl:"/p/partials/modalSignup",controller:"ModalSignupCtrl"});e.result.then(function(n){if(n.success){alert(n.reason)}r.path("/")});return}if(n=="s"){var e=o.open({templateUrl:"/p/partials/modalForgottenPass",controller:"ModalForgottenPassCtrl",size:"sm"});e.result.then(function(n){if(n){alert(n)}});return}if(n){t.currentUser=n}},function(){})}}]);