var controllers=require("../controllers"),useragent=require("useragent");module.exports=function(r){r.post("/upload_image",controllers.products.createProduct);r.post("/convert",controllers.products.convertImage);r.get("/api/search",controllers.search.searchSuggestions);r.get("/api",controllers.products.getAllProducts);r.get("/get_image/:id",controllers.products.getImage);r.post("/api/update/",controllers.products.updateProduct);r.get("/api/topic/:id",controllers.products.getProductById);r.get("/home",function(r,e){e.render("../../public/app/home")});r.get("/p/:partialArea/:partialName",function(r,e){e.render("../../public/app/"+r.params.partialArea+"/"+r.params.partialName)});r.get("*",function(r,e){var o=true;var t=useragent.parse(r.headers["user-agent"]);if(t!==undefined){if(!!t.family&&t.family=="IE"){if(!!t.major&&t.major<10){o=false}}}if(o){e.render("index")}e.end("<h1> Your browser is  "+t.family+" "+t.major+"<br/>"+"<h3>Sorry for the inconvenience but smaller versions from IE10 are not supported so far!"+"<br/>"+"<h3>You can use any other browser...")})};