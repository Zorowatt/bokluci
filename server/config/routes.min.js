var controllers=require("../controllers"),auth=require("./auth");module.exports=function(e){e.post("/login",auth.userLogin);e.post("/logout",auth.userLogout);e.post("/signup",controllers.users.createUser);e.get("/verify",controllers.users.verifyUser);e.post("/fpass",controllers.users.forgotUser);e.get("/recover",controllers.users.recoverUser);e.post("/recover",controllers.users.verifyAndRecoverUser);e.post("/upload_image",auth.isAuthenticated,controllers.products.createProduct);e.get("/api/search",controllers.search.searchSuggestions);e.get("/api",controllers.products.getAllProducts);e.get("/get_image/:id",controllers.products.getImage);e.post("/api/update/",auth.isAuthenticated,controllers.products.updateProduct);e.get("/api/product/:id",controllers.products.getProductById);e.get("/home",function(e,r){r.render("../../public/app/home")});e.get("/p/:partialArea/:partialName",function(e,r){r.render("../../public/app/"+e.params.partialArea+"/"+e.params.partialName)});e.get("*",function(e,r){if(e.user){r.render("index",{currentUser:{username:e.user.username}})}else{r.render("index")}})};